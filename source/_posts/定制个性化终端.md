---
title: 定制个性化终端
tags: 开发工具
categories: 前端技术
date: 2019/7/16 15:00:00
comments: true
---

## 安装 item2

[item2 官网](https://www.iterm2.com/)

item2 下载没什么好说的，关键是安装 zsh、oh-my-zsh

## 安装 zsh
```
brew install zsh
```
未安装 brew 的同学可参考 [brew 安装爬坑指南](/posts/2019-04-12/brew_install)

## 安装 oh-my-zsh
```
$ sh -c "$(curl -fsSL https://raw.github.com/robbyrussell/oh-my-zsh/master/tools/install.sh)"
```
参考官网[oh-my-zsh 官网](https://ohmyz.sh/)

## 配置默认 shell 到 zsh

```
// 配置
chsh -s /bin/zsh

// 查看是否配置成功
// 此时终端打印出 /bin/zsh 恭喜你设置成功
echo $SHELL
```

## 配置字体

```
// 下载 PowerFonts 字体
// git clone
git clone https://github.com/powerline/fonts.git --depth=1

// 安装字体
// cd to folder
cd fonts
// run install shell
./install.sh
```

## item2 中设置字体
具体的操作是 `iTerm2 -> Preferences -> Profiles -> Text`，在Font区域选中 `Change Font`，然后找到Meslo LG字体。有L、M、S可选，看个人喜好：

<img width="313" alt="item2_1" src="https://user-images.githubusercontent.com/33422051/59659646-34b94a80-91d9-11e9-80a0-3d7192f1044d.png">

<img width="1033" alt="item2_2" src="https://user-images.githubusercontent.com/33422051/59659665-400c7600-91d9-11e9-952d-3ceb6bbfab54.png">

## 配置主题

[主题列表](https://github.com/robbyrussell/oh-my-zsh/wiki/Themes)

可从上面的链接进入官方给出的主题列表以及截图，选择自己相要的。

通过编辑 `vi ~/.zshrc` 来设置。

```
vi ~/.zshrc
```
找到下图中的 ZSH_THEME 并设置为你希望的主题

<img width="544" alt="item2_3" src="https://user-images.githubusercontent.com/33422051/59659695-50bcec00-91d9-11e9-8d28-db0627a827b0.png">

## 配置插件

[插件列表](https://github.com/robbyrussell/oh-my-zsh/wiki/Plugins)

首先将插件下载到 `~/.oh-my-zsh/plugins`，然后在 `~/.zshrc` 中进行设置即可，如下图：

![item2_4](https://user-images.githubusercontent.com/33422051/59659714-59adbd80-91d9-11e9-8e0f-56ed00dbc559.png)
<img width="755" alt="item2_5" src="https://user-images.githubusercontent.com/33422051/59659731-6500e900-91d9-11e9-9eeb-885e2caff971.png">

例如：命令补全

```
cd ~/.oh-my-zsh/custom/plugins/
git clone https://github.com/zsh-users/zsh-autosuggestions
vi ~/.zshrc
// 找到plugins，修改内容
// 默认打开里面已经有一个git
plugins=(
    git
    zsh-autosuggestions
)
```
例如：高亮插件

```
cd ~/.oh-my-zsh/custom/plugins/
git clone https://github.com/zsh-users/zsh-syntax-highlighting.git
vi ~/.zshrc
// 找到plugins，修改内容
plugins=(
    git
    zsh-autosuggestions
    zsh-syntax-highlighting
)
```
该插件要求 `zsh-syntax-highlighting` 必须在最后一个。
且在文件的最后一行添加：
```
source ~/.oh-my-zsh/custom/plugins/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh
```

## 最后
一切配置完毕，保存好文件之后调用  `source ~/.zshrc` 命令来激活配置文件即可。
效果如图：

<img width="755" alt="item2_5" src="https://user-images.githubusercontent.com/33422051/59659783-806bf400-91d9-11e9-866d-7f49a9a9c8fb.png">

## 适配到 vscode

首先需要指定 vscode 使用的终端
``` json
"terminal.integrated.shell.osx": "zsh",
```

这是，主题样式中的一些特殊字体图标可能出现乱码，这时就需要配置终端字体
但目前配置失败。编辑器仅支持 monospace 字体。
[Only monospace fonts are supported](https://github.com/microsoft/vscode/issues/75333)

``` json
"terminal.integrated.fontFamily": "Meslo LG",
```